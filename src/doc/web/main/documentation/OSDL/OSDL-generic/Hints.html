<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/REC-html40/loose.dtd">
<!--    This document is a part of the OSDL project 
        For any comment, please mail to olivier.boudeville@online.fr
-->
<!--    
        Creation date: 2003 April, 23.
        Author: Olivier Boudeville (olivier.boudeville@online.fr)
        Update made by:  the author
        Version number: 0.1
        Adapted from: no previous document
-->

<html lang="EN">
<head>
  <title>OSDL - Trucs et astuces</title>
  <meta http-equiv="Content-Type" content=
  "text/html; charset=iso-8859-1">
  <meta name="description" content="OSDL">
  <meta name="keywords" content="OSDL, video game, GPL, hints">
  <link href="../../../../images/OSDL-icon.png" rel="OSDL icon">
  <link rel="STYLESHEET" type="text/css" href=
  "../../../../common/css/OSDL.css">
</head>

<body>
  <div class="banner">
    <p><em>General</em> <a href="../../../../common/black.html"
       onclick="parent.toolbar.location='../../../MainMenu.html'">home
       page</a> <a href="../../../Map.html">site map</a> <a href=
       "mailto:olivier.boudeville@online.fr?subject=[OSDL]%20Hints">
    mail us</a></p>
  </div><a name="_top_"></a>

<h1>Quelques trucs et astuces & autres informations utiles</h1>

<h2>Maîtriser le système de construction (<em>build</em>)</h2>

<p>
Pour activer l'affichage complet des commandes passées par le système de build (par exemple pour connaître les options passées à la compilation d'un fichier source), il suffit de suffixer la commande make avec <em>SILENT=</em>. Par exemple, depuis le répertoire src, lancer: <code>make all SILENT=</code> (le = n'est pas une faute de frappe, il permet d'effacer la valeur de la variable correspondante dans le makefile).
</p>

<p>
Une autre solution est de ne pas rester au niveau de la racine (<code>${OSDL}/trunk</code>) mais d'aller dans un sous-répertoire de <code>${OSDL}/trunk/src/code</code>. En effet, il a été fait en sorte que, quand on choisit un niveau de détail supérieur (ex: celui du module ou du sous-module), les informations fournies soient plus détaillées.
</p>


<h2>Exécuter les tests</h2>

<p>
La compilation des tests est séparée de celle de la bibliothèque en elle-même, car les tests sont faits pour se comporter exactement comme une application tierce qui utiliserait OSDL.
</p>

<p>
Cette dernière doit donc être complétement compileé (*.o), liée (*.a/*.so) et installée pour que les tests puissent être construits et s'exécuter. Ces tâches de construction conditionnelle et de résolution des tâches minimales sont prises en charge par le système de construction (build).
</p>


<p>
Pour exécuter les tests venant avec Ceylan ou avec OSDL, deux méthodes sont envisageables:
<ul>

	<li>sélectionner un <b>test précis</b>: sous une installation, sous le répertoire <code>bin</code>, les exécutables de tests sont automatiquement rangés dans une arborescence reflétant celle de leur module. Il est conseillé de les exécuter depuis leur répertoire de stockage (en plaçant le répertoire courant là où l'exécutable se situe), de manière à ce que, dans le cas où le test nécessite des ressources externes (ex: une image), il puisse d'emblée les trouver.
    </li>

	<li>utiliser le <b>passage automatique des tests</b> grâce à l'utilitaire <code>playTests.sh</code>, qui se charge de les lister, de les enchaîner et de répertorier leurs éventuelles défaillances. Il est possible de l'exécuter en mode non-interactif (batch) via l'option <code>--batch</code>. Note: pour OSDL, cette option est utilisable, même si certains tests sont obligatoirement interactifs (dans ce cas ils rendent la main immédiatement).
   </li>
   
</ul>
</p>


<h2>Choix d'implémentation</h2>

<p>Pour totalement contrôler les sous-systèmes d'OSDL (par exemple vidéo, audio, événements, etc.), il aurait été pratique de disposer de classes statiques comme en Java. Comme le C++ ne permet pas de garantir le moment ou l'ordre d'initialisation des classes contenant des membres statiques, il a été choisi, pour une meilleure construction du code, d'utiliser dans certains cas une méthode notamment exposée par <a href="http://hjem.get2net.dk/stephen_muires/Ideas/Emulation%20of%20%20a%20static%20constructor%20in%20C++.htm#gamma" target="_blank">Stephen Muires</a>.
</p>



<h3>Systèmes de coordonnées</h3>

<p>  
OSDL respecte un repère orthonormé classique : les coordonnées de l'écran s'étendent horizontalement (abscisses) de gauche à droite, du point de vue de l'utilisateur, et verticalement (ordonnées) de haut en bas. La base tridimensionnelle directe en découlant verrait donc le troisième axe, orthogonal aux deux autres, fuir l'utilisateur.
</p>



<h3>N'hésitez pas à nous faire part de votre avis !</h3>

<p>Pour toute remarque, <a href=
"mailto:olivier.boudeville@online.fr?subject=[OSDL]%20Hints">envoyez-nous
un mail</a> !</p><br>
<br>
<hr>

<center>
  [<a href="#_top_">Top</a>]
  <br>
  <br>
  <em>Dernière mise à jour : vendredi 29 février 2008</em>
</center>

</body>
</html>
